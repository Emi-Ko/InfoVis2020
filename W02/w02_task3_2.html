<html>
  <head>
    <title>W02: Task 3</title>
  </head>
  <script src="vec3.js"></script>
  <body>
    <form>
      【 点A 】<br>
      x : <input type="number" id="x0" name="x0"/>
      y : <input type="number" id="y0" name="y0"/>
      z : <input type="number" id="z0" name="z0"/>
      <br>
      【 点B 】<br>
      x : <input type="number" id="x1" name="x1"/>
      y : <input type="number" id="y1" name="y1"/>
      z : <input type="number" id="z1" name="z1"/>
      <br>
      【 点C 】<br>
      x : <input type="number" id="x2" name="x2"/>
      y : <input type="number" id="y2" name="y2"/>
      z : <input type="number" id="z2" name="z2"/>
      <br><br>
      <input type="button"
              onclick="cli()"
              value="get area of triangle"/>
      <br><br>
      △ABCの面積：<input type="text" id="res" name="res" readonly/>
    </form>
  </body>
  <script>
    function cli () {
      var x0 = document.getElementById("x0").value;
      var y0 = document.getElementById("y0").value;
      var z0 = document.getElementById("z0").value;

      var x1 = document.getElementById("x1").value;
      var y1 = document.getElementById("y1").value;
      var z1 = document.getElementById("z1").value;

      var x2 = document.getElementById("x2").value;
      var y2 = document.getElementById("y2").value;
      var z2 = document.getElementById("z2").value;

      var v0 = new Vec3(x0, y0, z0);
      var v1 = new Vec3(x1, y1, z1);
      var v2 = new Vec3(x2, y2, z2);
      var s = AreaOfTriangle( v0, v1, v2 );

      document.getElementById("res").value = s;

    }
    function AreaOfTriangle( v0, v1, v2 )
    {
      let va = new Vec3(v1.x-v0.x, v1.y-v0.y, v1.z-v0.z);
      let vb = new Vec3(v2.x-v0.x, v2.y-v0.y, v2.z-v0.z);
      let s = Math.sqrt((va.x*va.x+va.y*va.y+va.z*va.z)*(vb.x*vb.x+vb.y*vb.y+vb.z*vb.z)-(va.x*vb.x+va.y*vb.y+va.z*vb.z)*(va.x*vb.x+va.y*vb.y+va.z*vb.z));
      return s/2;
    }
  </script>
</html>
